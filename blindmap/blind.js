const townsString = "16.661 49.301 5089 Adamov (okr. Blansko)\n" +
"18.528 49.786 3904 Albrechtice (okr. Karviná)\n" +
"12.196 50.224 12285 Aš (okr. Cheb)\n" +
"14.944 50.483 4369 Bakov nad Jizerou (okr. Mladá Boleslav)\n" +
"18.377 49.641 2874 Baška (okr. Frýdek-Místek)\n" +
"14.470 49.295 6151 Bechyně (okr. Tábor)\n" +
"14.806 50.501 4736 Bělá pod Bezdězem (okr. Mladá Boleslav)\n" +
"14.825 50.292 6614 Benátky nad Jizerou (okr. Mladá Boleslav)\n" +
"14.689 49.782 15892 Benešov (okr. Benešov)\n" +
"14.314 50.742 4233 Benešov nad Ploučnicí (okr. Děčín)\n" +
"14.074 49.964 18005 Beroun (okr. Beroun)\n" +
"13.778 50.549 17025 Bílina (okr. Teplice)\n" +
"18.018 49.756 8384 Bílovec (okr. Nový Jičín)\n" +
"16.645 49.363 21361 Blansko (okr. Blansko)\n" +
"13.882 49.426 6944 Blatná (okr. Strakonice)\n" +
"13.538 49.582 3591 Blovice (okr. Plzeň-jih)\n" +
"16.930 49.941 3128 Bludov (okr. Šumperk)\n" +
"18.359 49.904 23686 Bohumín (okr. Karviná)\n" +
"17.817 49.040 4858 Bojkovice (okr. Uherské Hradiště)\n" +
"18.087 49.952 4177 Bolatice (okr. Opava)\n" +
"12.778 49.714 3787 Bor (okr. Tachov)\n" +
"14.643 48.901 3312 Borovany (okr. České Budějovice)\n" +
"16.661 49.489 11290 Boskovice (okr. Blansko)\n" +
"14.665 50.188 15644 Brandýs n. L.-Stará Boleslav (okr. Praha-východ)\n" +
"16.603 49.195 388296 Brno (okr. Brno-město)\n" +
"16.334 50.586 8076 Broumov (okr. Náchod)\n" +
"15.680 49.305 3592 Brtnice (okr. Jihlava)\n" +
"18.024 49.091 5924 Brumov-Bylnice (okr. Zlín)\n" +
"17.466 49.989 16800 Bruntál (okr. Bruntál)\n" +
"18.227 49.701 3590 Brušperk (okr. Frýdek-Místek)\n" +
"16.885 48.760 26206 Břeclav (okr. Břeclav)\n" +
"13.952 49.558 3614 Březnice (okr. Příbram)\n" +
"12.651 50.145 2717 Březová (okr. Sokolov)\n" +
"17.378 49.914 4013 Břidličná (okr. Bruntál)\n" +
"17.004 49.149 6658 Bučovice (okr. Vyškov)\n" +
"17.629 49.795 3340 Budišov nad Budišovkou (okr. Opava)\n" +
"14.669 49.733 3803 Bystřice (okr. Benešov)\n" +
"18.721 49.637 4859 Bystřice (okr. Frýdek-Místek)\n" +
"16.263 49.524 9304 Bystřice nad Pernštejnem (okr. Žďár n.S.)\n" +
"17.676 49.399 8441 Bystřice pod Hostýnem (okr. Kroměříž)\n" +
"17.268 48.973 4113 Bzenec (okr. Hodonín)\n" +
"14.634 50.777 4327 Cvikov (okr. Česká Lípa)\n" +
"15.392 49.911 10107 Čáslav (okr. Kutná Hora)\n" +
"16.945 48.906 2562 Čejkovice (okr. Hodonín)\n" +
"14.752 50.161 10295 Čelákovice (okr. Praha-východ)\n" +
"14.706 49.853 2656 Čerčany (okr. Benešov)\n" +
"14.321 49.961 4351 Černošice (okr. Praha-západ)\n" +
"16.747 50.041 3067 Červená Voda (okr. Ústí n.O.)\n" +
"16.098 50.477 8598 Červený Kostelec (okr. Náchod)\n" +
"14.419 50.798 5646 Česká Kamenice (okr. Děčín)\n" +
"14.539 50.686 39424 Česká Lípa (okr. Česká Lípa)\n" +
"16.047 50.396 5594 Česká Skalice (okr. Náchod)\n" +
"16.451 49.902 17607 Česká Třebová (okr. Ústí n.O.)\n" +
"14.476 48.975 97243 České Budějovice (okr. České Budějovice)\n" +
"14.965 48.769 3605 České Velenice (okr. Jindřichův Hradec)\n" +
"14.863 50.075 7031 Český Brod (okr. Kolín)\n" +
"14.994 50.659 2904 Český Dub (okr. Liberec)\n" +
"14.316 48.811 14108 Český Krumlov (okr. Český Krumlov)\n" +
"18.576 49.744 28711 Český Těšín (okr. Karviná)\n" +
"15.439 49.082 7970 Dačice (okr. Jindřichův Hradec)\n" +
"14.216 50.782 54341 Děčín (okr. Děčín)\n" +
"15.305 50.761 3811 Desná (okr. Jablonec n.N.)\n" +
"18.464 49.894 3526 Dětmarovice (okr. Karviná)\n" +
"18.415 49.674 2863 Dobrá (okr. Frýdek-Místek)\n" +
"14.964 50.368 2936 Dobrovice (okr. Mladá Boleslav)\n" +
"16.162 50.292 6893 Dobruška (okr. Rychnov n.K.)\n" +
"13.291 49.656 5624 Dobřany (okr. Plzeň-jih)\n" +
"14.168 49.782 7848 Dobříš (okr. Příbram)\n" +
"14.658 50.565 5075 Doksy (okr. Česká Lípa)\n" +
"18.112 49.921 4368 Dolní Benešov (okr. Opava)\n" +
"17.029 48.861 2778 Dolní Bojanovice (okr. Hodonín)\n" +
"18.417 49.908 4469 Dolní Lutyně (okr. Karviná)\n" +
"17.587 48.969 2956 Dolní Němčí (okr. Uherské Hradiště)\n" +
"12.932 49.441 11519 Domažlice (okr. Domažlice)\n" +
"13.790 50.682 7815 Dubí (okr. Teplice)\n" +
"17.091 48.917 6512 Dubňany (okr. Hodonín)\n" +
"13.748 50.604 8913 Duchcov (okr. Teplice)\n" +
"15.817 50.432 16976 Dvůr Králové nad Labem (okr. Trutnov)\n" +
"12.354 50.121 5184 Františkovy Lázně (okr. Cheb)\n" +
"18.212 49.549 11166 Frenštát pod Radhoštěm (okr. Nový Jičín)\n" +
"18.350 49.686 63808 Frýdek-Místek (okr. Frýdek-Místek)\n" +
"15.081 50.922 7647 Frýdlant (okr. Liberec)\n" +
"18.361 49.593 9718 Frýdlant nad Ostravicí (okr. Frýdek-Místek)\n" +
"17.684 49.286 3643 Fryšták (okr. Zlín)\n" +
"17.905 49.714 6742 Fulnek (okr. Nový Jičín)\n" +
"15.478 49.818 2746 Golčův Jeníkov (okr. Havlíčkův Brod)\n" +
"12.552 50.183 5477 Habartov (okr. Sokolov)\n" +
"18.103 49.897 3299 Háj ve Slezsku (okr. Opava)\n" +
"16.936 50.078 3754 Hanušovice (okr. Šumperk)\n" +
"18.438 49.780 86297 Havířov (okr. Karviná)\n" +
"15.582 49.609 24472 Havlíčkův Brod (okr. Havlíčkův Brod)\n" +
"15.194 50.876 2537 Hejnice (okr. Liberec)\n" +
"15.668 49.948 5046 Heřmanův Městec (okr. Chrudim)\n" +
"15.910 49.763 10916 Hlinsko (okr. Chrudim)\n" +
"17.406 49.628 4660 Hlubočky (okr. Olomouc)\n" +
"14.437 49.052 4277 Hluboká nad Vltavou (okr. České Budějovice)\n" +
"18.194 49.898 14390 Hlučín (okr. Opava)\n" +
"17.529 48.988 4362 Hluk (okr. Uherské Hradiště)\n" +
"15.087 50.668 2594 Hodkovice nad Mohelkou (okr. Liberec)\n" +
"17.135 48.850 28230 Hodonín (okr. Hodonín)\n" +
"17.579 49.334 12717 Holešov (okr. Kroměříž)\n" +
"15.988 50.066 6429 Holice (okr. Pardubice)\n" +
"13.099 49.594 4507 Holýšov (okr. Domažlice)\n" +
"13.702 49.321 5820 Horažďovice (okr. Klatovy)\n" +
"17.604 49.967 2602 Horní Benešov (okr. Bruntál)\n" +
"13.357 49.841 4007 Horní Bříza (okr. Plzeň-sever)\n" +
"12.810 50.139 6101 Horní Slavkov (okr. Sokolov)\n" +
"18.480 49.801 4315 Horní Suchá (okr. Karviná)\n" +
"12.945 49.530 5047 Horšovský Týn (okr. Domažlice)\n" +
"15.633 50.368 9282 Hořice (okr. Jičín)\n" +
"13.904 49.836 6395 Hořovice (okr. Beroun)\n" +
"15.726 50.543 5181 Hostinné (okr. Trutnov)\n" +
"14.261 50.082 4021 Hostivice (okr. Praha-západ)\n" +
"15.835 50.210 99917 Hradec Králové (okr. Hradec Králové)\n" +
"17.875 49.876 4973 Hradec nad Moravicí (okr. Opava)\n" +
"13.655 49.714 3052 Hrádek (okr. Rokycany)\n" +
"14.846 50.853 7112 Hrádek nad Nisou (okr. Liberec)\n" +
"17.737 49.548 19507 Hranice (okr. Přerov)\n" +
"16.186 50.482 6653 Hronov (okr. Náchod)\n" +
"16.403 48.831 3276 Hrušovany nad Jevišovkou (okr. Znojmo)\n" +
"16.597 49.039 2748 Hrušovany u Brna (okr. Brno-venkov)\n" +
"17.466 49.318 7895 Hulín (okr. Kroměříž)\n" +
"15.359 49.543 11122 Humpolec (okr. Pelhřimov)\n" +
"16.739 48.941 6166 Hustopeče (okr. Břeclav)\n" +
"12.376 50.080 31847 Cheb (okr. Cheb)\n" +
"13.942 50.699 3971 Chlumec (okr. Ústí n.L.)\n" +
"15.463 50.154 5327 Chlumec nad Cidlinou (okr. Hradec Králové)\n" +
"16.223 50.003 9249 Choceň (okr. Ústí n.O.)\n" +
"12.756 50.242 14929 Chodov (okr. Sokolov)\n" +
"13.419 50.461 53107 Chomutov (okr. Chomutov)\n" +
"15.672 49.721 9352 Chotěboř (okr. Havlíčkův Brod)\n" +
"13.202 49.656 2592 Chotěšov (okr. Plzeň-jih)\n" +
"15.939 49.902 3237 Chrast (okr. Chrudim)\n" +
"14.971 50.817 5597 Chrastava (okr. Liberec)\n" +
"17.366 49.356 5388 Chropyně (okr. Kroměříž)\n" +
"15.797 49.951 23643 Chrudim (okr. Chrudim)\n" +
"15.417 50.035 3101 Chvaletice (okr. Pardubice)\n" +
"16.380 49.102 9448 Ivančice (okr. Brno-venkov)\n" +
"17.096 49.305 2988 Ivanovice na Hané (okr. Vyškov)\n" +
"15.172 50.725 45937 Jablonec nad Nisou (okr. Jablonec n.N.)\n" +
"16.603 50.030 3095 Jablonné nad Orlicí (okr. Ústí n.O.)\n" +
"14.764 50.767 3824 Jablonné v Podještědí (okr. Česká Lípa)\n" +
"18.765 49.576 6779 Jablunkov (okr. Frýdek-Místek)\n" +
"12.937 50.359 2716 Jáchymov (okr. Karlovy Vary)\n" +
"15.923 50.357 12557 Jaroměř (okr. Náchod)\n" +
"15.896 49.094 3982 Jaroměřice nad Rokytnou (okr. Třebíč)\n" +
"17.003 50.391 3018 Javorník (okr. Jeseník)\n" +
"15.572 49.019 4282 Jemnice (okr. Třebíč)\n" +
"17.206 50.230 13039 Jeseník (okr. Jeseník)\n" +
"16.712 49.634 2688 Jevíčko (okr. Svitavy)\n" +
"15.353 50.437 16803 Jičín (okr. Jičín)\n" +
"15.593 49.397 51831 Jihlava (okr. Jihlava)\n" +
"15.509 50.609 5829 Jilemnice (okr. Semily)\n" +
"14.105 50.761 5195 Jílové (okr. Děčín)\n" +
"14.495 49.896 3285 Jílové u Prahy (okr. Praha-západ)\n" +
"15.005 49.144 21822 Jindřichův Hradec (okr. Jindřichův Hradec)\n" +
"13.450 50.500 18229 Jirkov (okr. Chomutov)\n" +
"14.572 50.995 3638 Jiříkov (okr. Děčín)\n" +
"13.273 50.377 17796 Kadaň (okr. Chomutov)\n" +
"15.076 49.304 4202 Kamenice nad Lipou (okr. Pelhřimov)\n" +
"14.470 50.776 4088 Kamenický Šenov (okr. Česká Lípa)\n" +
"14.498 48.739 7111 Kaplice (okr. Český Krumlov)\n" +
"12.888 50.222 56054 Karlovy Vary (okr. Karlovy Vary)\n" +
"18.248 49.351 2959 Karolinka (okr. Vsetín)\n" +
"18.543 49.854 68405 Karviná (okr. Karviná)\n" +
"13.386 49.892 3193 Kaznějov (okr. Plzeň-sever)\n" +
"13.040 49.391 4369 Kdyně (okr. Domažlice)\n" +
"17.817 49.479 2599 Kelč (okr. Vsetín)\n" +
"14.105 50.148 71753 Kladno (okr. Kladno)\n" +
"13.174 50.385 16213 Klášterec nad Ohří (okr. Chomutov)\n" +
"13.297 49.396 23098 Klatovy (okr. Klatovy)\n" +
"18.130 49.787 3628 Klimkovice (okr. Nový Jičín)\n" +
"18.053 49.986 3125 Kobeřice (okr. Opava)\n" +
"17.307 49.353 6529 Kojetín (okr. Přerov)\n" +
"15.202 50.028 31595 Kolín (okr. Kolín)\n" +
"16.890 49.592 3099 Konice (okr. Prostějov)\n" +
"18.146 49.600 24102 Kopřivnice (okr. Nový Jičín)\n" +
"17.167 49.110 2950 Koryčany (okr. Kroměříž)\n" +
"14.931 50.439 3557 Kosmonosy (okr. Mladá Boleslav)\n" +
"17.060 49.515 2688 Kostelec na Hané (okr. Prostějov)\n" +
"14.856 49.992 3187 Kostelec nad Černými Lesy (okr. Kolín)\n" +
"14.587 50.227 2888 Kostelec nad Labem (okr. Mělník)\n" +
"16.213 50.124 6455 Kostelec nad Orlicí (okr. Rychnov n.K.)\n" +
"18.262 49.581 2777 Kozlovice (okr. Frýdek-Místek)\n" +
"16.762 50.086 4890 Králíky (okr. Ústí n.O.)\n" +
"13.489 49.982 3340 Kralovice (okr. Plzeň-sever)\n" +
"14.314 50.242 17934 Kralupy nad Vltavou (okr. Mělník)\n" +
"14.036 49.950 5391 Králův Dvůr (okr. Beroun)\n" +
"12.519 50.324 7604 Kraslice (okr. Sokolov)\n" +
"14.512 50.913 3381 Krásná Lípa (okr. Děčín)\n" +
"18.006 49.933 6560 Kravaře (okr. Opava)\n" +
"17.706 50.090 25436 Krnov (okr. Bruntál)\n" +
"17.392 49.299 28967 Kroměříž (okr. Kroměříž)\n" +
"13.859 50.684 12620 Krupka (okr. Teplice)\n" +
"17.471 49.045 5195 Kunovice (okr. Uherské Hradiště)\n" +
"16.533 49.299 8621 Kuřim (okr. Brno-venkov)\n" +
"15.269 49.949 21561 Kutná Hora (okr. Kutná Hora)\n" +
"17.125 49.011 12920 Kyjov (okr. Hodonín)\n" +
"12.533 50.120 5202 Kynšperk nad Ohří (okr. Sokolov)\n" +
"16.614 49.913 9873 Lanškroun (okr. Ústí n.O.)\n" +
"16.969 48.725 3753 Lanžhot (okr. Břeclav)\n" +
"15.586 50.430 3823 Lázně Bělohrad (okr. Jičín)\n" +
"15.280 49.696 6540 Ledeč nad Sázavou (okr. Havlíčkův Brod)\n" +
"16.501 50.037 6203 Letohrad (okr. Ústí n.O.)\n" +
"16.576 49.547 6608 Letovice (okr. Blansko)\n" +
"14.366 50.198 2999 Libčice nad Vltavou (okr. Praha-západ)\n" +
"15.058 50.768 101162 Liberec (okr. Liberec)\n" +
"17.110 49.858 3413 Libina (okr. Šumperk)\n" +
"14.046 50.406 3648 Libochovice (okr. Litoměřice)\n" +
"17.589 49.528 9406 Lipník nad Bečvou (okr. Přerov)\n" +
"14.610 49.016 3806 Lišov (okr. České Budějovice)\n" +
"14.133 50.534 25719 Litoměřice (okr. Litoměřice)\n" +
"16.314 49.872 10187 Litomyšl (okr. Svitavy)\n" +
"17.078 49.702 10043 Litovel (okr. Olomouc)\n" +
"13.619 50.605 29096 Litvínov (okr. Most)\n" +
"12.755 50.187 2989 Loket (okr. Sokolov)\n" +
"13.660 50.594 3214 Lom (okr. Most)\n" +
"15.376 50.531 6328 Lomnice nad Popelkou (okr. Semily)\n" +
"16.929 49.745 2999 Loštice (okr. Šumperk)\n" +
"13.799 50.357 20812 Louny (okr. Louny)\n" +
"14.053 50.515 9708 Lovosice (okr. Litoměřice)\n" +
"12.409 50.255 2509 Luby (okr. Cheb)\n" +
"18.241 49.892 4505 Ludgeřovice (okr. Opava)\n" +
"17.763 49.102 5828 Luhačovice (okr. Zlín)\n" +
"17.139 49.560 3331 Lutín (okr. Olomouc)\n" +
"16.030 49.894 2631 Luže (okr. Chrudim)\n" +
"17.074 48.842 2515 Lužice (okr. Hodonín)\n" +
"14.834 50.202 8450 Lysá nad Labem (okr. Nymburk)\n" +
"12.703 49.965 15382 Mariánské Lázně (okr. Cheb)\n" +
"14.476 50.351 19625 Mělník (okr. Mělník)\n" +
"15.300 50.208 3022 Městec Králové (okr. Nymburk)\n" +
"17.578 50.163 3580 Město Albrechtice (okr. Bruntál)\n" +
"13.601 50.621 5158 Meziboří (okr. Most)\n" +
"16.243 50.627 3009 Meziměstí (okr. Náchod)\n" +
"14.362 50.967 2546 Mikulášovice (okr. Děčín)\n" +
"16.640 48.806 7477 Mikulov (okr. Břeclav)\n" +
"17.327 50.302 2704 Mikulovice (okr. Jeseník)\n" +
"14.361 49.452 9782 Milevsko (okr. Písek)\n" +
"14.726 50.660 6487 Mimoň (okr. Česká Lípa)\n" +
"16.314 48.947 3036 Miroslav (okr. Znojmo)\n" +
"14.906 50.412 43859 Mladá Boleslav (okr. Mladá Boleslav)\n" +
"14.811 49.533 2777 Mladá Vožice (okr. Tábor)\n" +
"14.973 50.528 8435 Mnichovo Hradiště (okr. Mladá Boleslav)\n" +
"14.262 49.867 3957 Mníšek pod Brdy (okr. Praha-západ)\n" +
"16.616 49.129 3484 Modřice (okr. Brno-venkov)\n" +
"16.920 49.777 9704 Mohelnice (okr. Šumperk)\n" +
"16.754 49.225 2662 Mokrá-Horákov (okr. Brno-venkov)\n" +
"17.017 48.802 2557 Moravská Nová Ves (okr. Břeclav)\n" +
"16.666 49.758 11668 Moravská Třebová (okr. Svitavy)\n" +
"15.811 49.052 7884 Moravské Budějovice (okr. Třebíč)\n" +
"17.443 49.794 3523 Moravský Beroun (okr. Bruntál)\n" +
"16.314 49.050 6103 Moravský Krumlov (okr. Znojmo)\n" +
"17.210 49.249 2736 Morkovice-Slížany (okr. Kroměříž)\n" +
"13.638 50.504 70670 Most (okr. Most)\n" +
"18.754 49.525 3971 Mosty u Jablunkova (okr. Frýdek-Místek)\n" +
"17.031 48.905 3499 Mutěnice (okr. Hodonín)\n" +
"16.165 50.417 20712 Náchod (okr. Náchod)\n" +
"16.160 49.208 5115 Náměšť nad Oslavou (okr. Třebíč)\n" +
"17.513 49.173 7784 Napajedla (okr. Zlín)\n" +
"18.754 49.586 3623 Návsí (okr. Frýdek-Místek)\n" +
"12.731 50.322 8180 Nejdek (okr. Karlovy Vary)\n" +
"13.584 49.486 3211 Nepomuk (okr. Plzeň-jih)\n" +
"14.519 50.260 15685 Neratovice (okr. Mělník)\n" +
"14.105 50.673 25525 Neštěmice (okr. Ústí n.L.)\n" +
"14.198 49.049 2650 Netolice (okr. Prachatice)\n" +
"17.646 48.977 3259 Nivnice (okr. Uherské Hradiště)\n" +
"15.104 49.020 3303 Nová Bystřice (okr. Jindřichův Hradec)\n" +
"15.519 50.496 9380 Nová Paka (okr. Jičín)\n" +
"12.791 50.273 3888 Nová Role (okr. Karlovy Vary)\n" +
"15.074 49.238 2569 Nová Včelnice (okr. Jindřichův Hradec)\n" +
"14.784 48.791 2649 Nové Hrady (okr. České Budějovice)\n" +
"16.076 49.562 10426 Nové Město na Moravě (okr. Žďár n.S.)\n" +
"16.152 50.345 10220 Nové Město nad Metují (okr. Náchod)\n" +
"15.231 50.925 3883 Nové Město pod Smrkem (okr. Liberec)\n" +
"12.737 50.207 2508 Nové Sedlo (okr. Sokolov)\n" +
"13.903 50.153 4996 Nové Strašecí (okr. Rakovník)\n" +
"14.557 50.759 12166 Nový Bor (okr. Česká Lípa)\n" +
"15.493 50.242 7242 Nový Bydžov (okr. Hradec Králové)\n" +
"18.198 49.336 2704 Nový Hrozenkov (okr. Vsetín)\n" +
"18.012 49.595 26460 Nový Jičín (okr. Nový Jičín)\n" +
"15.043 50.187 15142 Nymburk (okr. Nymburk)\n" +
"13.145 49.294 4989 Nýrsko (okr. Klatovy)\n" +
"13.214 49.712 7158 Nýřany (okr. Plzeň-sever)\n" +
"14.413 50.234 4226 Odolena Voda (okr. Praha-východ)\n" +
"17.830 49.666 7401 Odry (okr. Nový Jičín)\n" +
"17.254 49.595 102786 Olomouc (okr. Olomouc)\n" +
"17.904 49.939 62815 Opava (okr. Opava)\n" +
"16.118 50.268 3309 Opočno (okr. Rychnov n.K.)\n" +
"18.431 49.845 36339 Orlová (okr. Karviná)\n" +
"13.688 50.623 5194 Osek (okr. Teplice)\n" +
"16.339 49.124 4445 Oslavany (okr. Brno-venkov)\n" +
"18.286 49.835 327371 Ostrava (okr. Ostrava-město)\n" +
"12.941 50.306 17872 Ostrov (okr. Karlovy Vary)\n" +
"17.436 49.005 3372 Ostrožská Nová Ves (okr. Uherské Hradiště)\n" +
"17.541 49.209 20267 Otrokovice (okr. Zlín)\n" +
"15.003 49.471 5201 Pacov (okr. Pelhřimov)\n" +
"15.779 50.041 94407 Pardubice (okr. Pardubice)\n" +
"18.291 49.733 3400 Paskov (okr. Frýdek-Místek)\n" +
"15.032 50.091 4428 Pečky (okr. Kolín)\n" +
"15.225 49.432 16480 Pelhřimov (okr. Pelhřimov)\n" +
"18.542 49.903 4092 Petrovice u Karviné (okr. Karviná)\n" +
"18.387 49.826 6769 Petřvald (okr. Karviná)\n" +
"14.150 49.309 29550 Písek (okr. Písek)\n" +
"12.739 49.868 5045 Planá (okr. Tachov)\n" +
"14.702 49.355 2901 Planá nad Lužnicí (okr. Tábor)\n" +
"13.391 49.936 2691 Plasy (okr. Plzeň-sever)\n" +
"13.379 49.748 173008 Plzeň (okr. Plzeň-město)\n" +
"15.241 49.260 2856 Počátky (okr. Pelhřimov)\n" +
"13.414 50.230 5913 Podbořany (okr. Louny)\n" +
"15.118 50.143 13213 Poděbrady (okr. Nymburk)\n" +
"16.850 48.829 2848 Podivín (okr. Břeclav)\n" +
"16.522 48.982 4378 Pohořelice (okr. Břeclav)\n" +
"16.233 50.538 4480 Police nad Metují (okr. Náchod)\n" +
"16.267 49.715 8987 Polička (okr. Svitavy)\n" +
"15.720 49.487 4691 Polná (okr. Jihlava)\n" +
"13.704 50.360 4483 Postoloprty (okr. Louny)\n" +
"16.913 49.907 3204 Postřelmov (okr. Šumperk)\n" +
"14.426 50.088 1214174 Praha (okr. Praha)\n" +
"13.999 49.013 11805 Prachatice (okr. Prachatice)\n" +
"17.114 49.472 50074 Prostějov (okr. Prostějov)\n" +
"14.219 49.197 4859 Protivín (okr. Písek)\n" +
"15.563 50.040 9587 Přelouč (okr. Pardubice)\n" +
"17.452 49.456 51300 Přerov (okr. Přerov)\n" +
"13.335 49.573 6382 Přeštice (okr. Plzeň-jih)\n" +
"18.146 49.641 8887 Příbor (okr. Nový Jičín)\n" +
"14.012 49.690 36898 Příbram (okr. Příbram)\n" +
"15.740 49.577 4028 Přibyslav (okr. Havlíčkův Brod)\n" +
"16.641 49.412 3521 Rájec-Jestřebí (okr. Blansko)\n" +
"16.607 49.090 2763 Rajhrad (okr. Brno-venkov)\n" +
"13.735 50.104 17425 Rakovník (okr. Rakovník)\n" +
"17.014 49.997 2731 Rapotín (okr. Šumperk)\n" +
"15.117 50.905 2708 Raspenava (okr. Liberec)\n" +
"17.169 48.918 4030 Ratíškovice (okr. Hodonín)\n" +
"17.185 48.881 3205 Rohatec (okr. Hodonín)\n" +
"13.596 49.743 14731 Rokycany (okr. Rokycany)\n" +
"15.453 50.730 3469 Rokytnice nad Jizerou (okr. Semily)\n" +
"16.389 49.183 4985 Rosice (okr. Brno-venkov)\n" +
"12.576 50.297 3433 Rotava (okr. Sokolov)\n" +
"14.264 50.426 13562 Roudnice nad Labem (okr. Litoměřice)\n" +
"16.884 49.202 4910 Rousínov (okr. Vyškov)\n" +
"14.399 50.159 5756 Roztoky (okr. Praha-západ)\n" +
"13.871 49.601 4476 Rožmitál pod Třemšínem (okr. Příbram)\n" +
"18.145 49.460 17727 Rožnov pod Radhoštěm (okr. Vsetín)\n" +
"16.071 50.506 3076 Rtyně v Podkrkonoší (okr. Trutnov)\n" +
"14.233 50.035 2838 Rudná (okr. Praha-západ)\n" +
"14.558 50.952 10789 Rumburk (okr. Děčín)\n" +
"16.278 50.164 11552 Rychnov nad Kněžnou (okr. Rychnov n.K.)\n" +
"18.380 49.873 6645 Rychvald (okr. Karviná)\n" +
"17.273 49.932 9405 Rýmařov (okr. Bruntál)\n" +
"14.234 49.914 2966 Řevnice (okr. Praha-západ)\n" +
"14.655 49.992 10650 Říčany (okr. Praha-východ)\n" +
"14.987 50.136 3104 Sadská (okr. Nymburk)\n" +
"14.895 49.869 3688 Sázava (okr. Kutná Hora)\n" +
"14.428 49.661 7959 Sedlčany (okr. Příbram)\n" +
"14.533 49.573 3202 Sedlec-Prčice (okr. Benešov)\n" +
"15.338 50.603 9399 Semily (okr. Semily)\n" +
"14.037 50.675 22220 Severní Terasa (okr. Ústí n.L.)\n" +
"15.856 50.065 2742 Sezemice (okr. Pardubice)\n" +
"14.687 49.385 7520 Sezimovo Ústí (okr. Tábor)\n" +
"15.997 49.843 5206 Skuteč (okr. Chrudim)\n" +
"14.088 50.230 15285 Slaný (okr. Kladno)\n" +
"15.818 49.920 4049 Slatiňany (okr. Chrudim)\n" +
"17.875 49.088 8584 Slavičín (okr. Zlín)\n" +
"16.878 49.153 5890 Slavkov u Brna (okr. Vyškov)\n" +
"15.354 48.998 2615 Slavonice (okr. Jindřichův Hradec)\n" +
"17.803 49.248 2760 Slušovice (okr. Zlín)\n" +
"15.866 50.300 3084 Smiřice (okr. Hradec Králové)\n" +
"15.248 50.739 3418 Smržovka (okr. Jablonec n.N.)\n" +
"14.720 49.260 7365 Soběslav (okr. Tábor)\n" +
"17.094 50.009 2507 Sobotín (okr. Šumperk)\n" +
"12.642 50.182 25210 Sokolov (okr. Sokolov)\n" +
"13.608 49.615 2584 Spálené Poříčí (okr. Plzeň-jih)\n" +
"13.071 49.554 3199 Staňkov (okr. Domažlice)\n" +
"17.435 49.075 6882 Staré Město (okr. Uherské Hradiště)\n" +
"13.475 49.698 4054 Starý Plzenec (okr. Plzeň-jih)\n" +
"13.166 49.641 3674 Stod (okr. Plzeň-jih)\n" +
"13.965 50.146 5425 Stochov (okr. Kladno)\n" +
"13.903 49.262 24705 Strakonice (okr. Strakonice)\n" +
"17.704 48.905 3820 Strání (okr. Uherské Hradiště)\n" +
"14.806 50.703 3873 Stráž pod Ralskem (okr. Česká Lípa)\n" +
"17.318 48.902 6081 Strážnice (okr. Hodonín)\n" +
"14.055 50.635 14397 Střekov (okr. Ústí n.L.)\n" +
"13.006 49.753 8030 Stříbro (okr. Tachov)\n" +
"15.289 49.186 2649 Studená (okr. Jindřichův Hradec)\n" +
"18.080 49.725 10736 Studénka (okr. Nový Jičín)\n" +
"14.877 48.888 3634 Suchdol nad Lužnicí (okr. Jindřichův Hradec)\n" +
"13.521 49.232 11308 Sušice (okr. Klatovy)\n" +
"17.096 48.985 3486 Svatobořice-Mistřín (okr. Hodonín)\n" +
"15.406 49.670 7583 Světlá nad Sázavou (okr. Havlíčkův Brod)\n" +
"16.470 49.756 17441 Svitavy (okr. Svitavy)\n" +
"18.378 49.794 5330 Šenov (okr. Frýdek-Místek)\n" +
"16.730 49.169 6172 Šlapanice (okr. Brno-venkov)\n" +
"14.455 51.005 5568 Šluknov (okr. Děčín)\n" +
"18.039 49.960 2953 Štěpánkovice (okr. Opava)\n" +
"17.225 49.684 3312 Štěpánov (okr. Olomouc)\n" +
"17.301 49.731 14611 Šternberk (okr. Olomouc)\n" +
"14.376 50.453 8571 Štětí (okr. Litoměřice)\n" +
"18.119 49.593 3280 Štramberk (okr. Nový Jičín)\n" +
"16.972 49.966 30422 Šumperk (okr. Šumperk)\n" +
"14.660 49.415 36342 Tábor (okr. Tábor)\n" +
"12.635 49.796 12833 Tachov (okr. Tachov)\n" +
"15.308 50.738 7055 Tanvald (okr. Jablonec n.N.)\n" +
"15.455 49.184 6049 Telč (okr. Jihlava)\n" +
"12.864 49.982 2924 Teplá (okr. Karlovy Vary)\n" +
"13.826 50.641 53004 Teplice (okr. Teplice)\n" +
"14.152 50.511 2892 Terezín (okr. Litoměřice)\n" +
"18.523 49.734 3874 Těrlicko (okr. Karviná)\n" +
"16.426 49.349 8566 Tišnov (okr. Brno-venkov)\n" +
"12.986 50.061 3864 Toužim (okr. Karlovy Vary)\n" +
"17.286 49.434 2656 Tovačov (okr. Přerov)\n" +
"14.641 48.842 4632 Trhové Sviny (okr. České Budějovice)\n" +
"15.913 50.562 31999 Trutnov (okr. Trutnov)\n" +
"15.995 50.202 5253 Třebechovice pod Orebem (okr. Hradec Králové)\n" +
"15.882 49.214 38352 Třebíč (okr. Třebíč)\n" +
"14.772 49.004 9052 Třeboň (okr. Jindřichův Hradec)\n" +
"13.397 49.817 4646 Třemošná (okr. Plzeň-sever)\n" +
"15.582 49.869 3366 Třemošnice (okr. Chrudim)\n" +
"15.484 49.291 5948 Třešť (okr. Jihlava)\n" +
"18.632 49.654 41620 Třinec (okr. Frýdek-Místek)\n" +
"15.159 50.588 14398 Turnov (okr. Semily)\n" +
"14.422 49.224 6831 Týn nad Vltavou (okr. České Budějovice)\n" +
"14.589 49.834 5249 Týnec nad Sázavou (okr. Benešov)\n" +
"16.073 50.148 6482 Týniště nad Orlicí (okr. Rychnov n.K.)\n" +
"17.461 49.070 26765 Uherské Hradiště (okr. Uherské Hradiště)\n" +
"17.649 49.026 17721 Uherský Brod (okr. Uherské Hradiště)\n" +
"17.392 48.986 4451 Uherský Ostroh (okr. Uherské Hradiště)\n" +
"15.067 49.881 2956 Uhlířské Janovice (okr. Kutná Hora)\n" +
"16.758 49.105 2539 Újezd u Brna (okr. Brno-venkov)\n" +
"14.134 50.086 3521 Unhošť (okr. Kladno)\n" +
"17.123 49.772 12831 Uničov (okr. Olomouc)\n" +
"16.023 50.511 6141 Úpice (okr. Trutnov)\n" +
"14.034 50.662 36036 Ústí n.L. - Město (okr. Ústí n.L.)\n" +
"14.035 50.661 98178 Ústí nad Labem (okr. Ústí n.L.)\n" +
"16.396 49.974 15295 Ústí nad Orlicí (okr. Ústí n.O.)\n" +
"14.346 50.585 2703 Úštěk (okr. Litoměřice)\n" +
"14.723 50.078 4604 Úvaly (okr. Praha-východ)\n" +
"18.005 49.140 5028 Valašské Klobouky (okr. Zlín)\n" +
"17.973 49.472 28175 Valašské Meziříčí (okr. Vsetín)\n" +
"16.760 48.745 3554 Valtice (okr. Břeclav)\n" +
"16.291 50.118 4995 Vamberk (okr. Rychnov n.K.)\n" +
"14.620 50.912 16266 Varnsdorf (okr. Děčín)\n" +
"13.033 50.483 3320 Vejprty (okr. Chomutov)\n" +
"14.464 48.829 3509 Velešín (okr. Český Krumlov)\n" +
"16.227 49.289 4652 Velká Bíteš (okr. Žďár n.S.)\n" +
"17.368 49.595 2870 Velká Bystřice (okr. Olomouc)\n" +
"17.521 48.879 3204 Velká nad Veličkou (okr. Hodonín)\n" +
"16.889 48.850 3811 Velké Bílovice (okr. Břeclav)\n" +
"18.313 49.366 2719 Velké Karlovice (okr. Vsetín)\n" +
"17.043 50.032 2958 Velké Losiny (okr. Šumperk)\n" +
"16.013 49.356 11518 Velké Meziříčí (okr. Žďár n.S.)\n" +
"16.682 49.613 4007 Velké Opatovice (okr. Blansko)\n" +
"16.816 48.905 3092 Velké Pavlovice (okr. Břeclav)\n" +
"14.238 50.282 2848 Velvary (okr. Kladno)\n" +
"18.713 49.668 3590 Vendryně (okr. Frýdek-Místek)\n" +
"14.698 49.185 6450 Veselí nad Lužnicí (okr. Tábor)\n" +
"17.378 48.954 12516 Veselí nad Moravou (okr. Hodonín)\n" +
"14.290 48.776 3610 Větřní (okr. Český Krumlov)\n" +
"16.440 49.276 2758 Veverská Bítýška (okr. Brno-venkov)\n" +
"13.775 49.056 8090 Vimperk (okr. Prachatice)\n" +
"17.752 49.775 6376 Vítkov (okr. Opava)\n" +
"17.856 49.223 4355 Vizovice (okr. Zlín)\n" +
"14.900 49.707 12809 Vlašim (okr. Benešov)\n" +
"17.584 49.009 3108 Vlčnov (okr. Uherské Hradiště)\n" +
"17.354 48.933 3102 Vnorovy (okr. Hodonín)\n" +
"14.176 49.149 6331 Vodňany (okr. Strakonice)\n" +
"13.888 48.909 3917 Volary (okr. Prachatice)\n" +
"13.887 49.169 3251 Volyně (okr. Strakonice)\n" +
"14.639 49.641 4514 Votice (okr. Benešov)\n" +
"17.214 48.976 4384 Vracov (okr. Hodonín)\n" +
"18.312 49.770 6791 Vratimov (okr. Frýdek-Místek)\n" +
"15.099 50.744 6061 Vratislavice n. N. (okr. Liberec)\n" +
"17.385 50.121 6645 Vrbno pod Pradědem (okr. Bruntál)\n" +
"15.475 49.922 2821 Vrdy (okr. Kutná Hora)\n" +
"15.611 50.628 13416 Vrchlabí (okr. Trutnov)\n" +
"17.999 49.339 30400 Vsetín (okr. Vsetín)\n" +
"16.164 49.954 10797 Vysoké Mýto (okr. Ústí n.O.)\n" +
"17.001 49.278 22696 Vyškov (okr. Vyškov)\n" +
"14.314 48.615 2606 Vyšší Brod (okr. Český Krumlov)\n" +
"16.874 49.883 15005 Zábřeh (okr. Šumperk)\n" +
"18.045 49.476 2645 Zašová (okr. Vsetín)\n" +
"16.349 49.158 4257 Zbýšov (okr. Brno-venkov)\n" +
"13.981 49.914 3723 Zdice (okr. Beroun)\n" +
"17.398 50.263 4550 Zlaté Hory (okr. Jeseník)\n" +
"17.668 49.227 83459 Zlín (okr. Zlín)\n" +
"14.368 49.066 3770 Zliv (okr. České Budějovice)\n" +
"16.051 48.856 37062 Znojmo (okr. Znojmo)\n" +
"15.107 49.740 5264 Zruč nad Sázavou (okr. Kutná Hora)\n" +
"18.093 49.476 5274 Zubří (okr. Vsetín)\n" +
"15.913 50.664 3700 Žacléř (okr. Trutnov)\n" +
"16.470 50.086 5864 Žamberk (okr. Ústí n.O.)\n" +
"13.547 50.328 20320 Žatec (okr. Louny)\n" +
"17.029 49.070 2757 Ždánice (okr. Hodonín)\n" +
"15.942 49.563 23191 Žďár nad Sázavou (okr. Žďár n.S.)\n" +
"15.820 49.696 2792 Ždírec nad Doubravou (okr. Havlíčkův Brod)\n" +
"15.256 50.644 6826 Železný Brod (okr. Jablonec n.N.)\n" +
"16.621 49.039 3251 Židlochovice (okr. Brno-venkov)\n" +
"15.190 49.253 3127 Žirovnice (okr. Pelhřimov)\n" +
"13.166 50.090 2802 Žlutice (okr. Karlovy Vary)";


Array.prototype.shuffled = function() {
  var o = this.slice();  
  for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x){}
  return o;
};

Number.prototype.atRandom = function() {
  return Math.floor(Math.random()*this+1); 
};

Array.prototype.first = function(anInteger) {
  var count = (typeof anInteger === "undefined") ? 1 : anInteger;
  if (count == 1) return this[0];  
  return this.slice(0, count);
};

function lonlat2xy(lon, lat) {
  var _0x15ddx17 = 57.29577951308232;
  var _0x15ddx18 = 50.008 / _0x15ddx17;
  var _0x15ddx19 = 14.447 / _0x15ddx17;
  var _0x15ddx1a = 301.5;
  var _0x15ddx1b = 217.5;
  var _0x15ddx1c = 1.0;
  var _0x15ddx1d = 6378.144;
  var _0x15ddx1e = 3.141592653589793;
  var _0x15ddx1f = 6.283185307179586;
  var _0x15ddx20 = 1.570796326794897;
  var _0x15ddx21 = -1 * (lon / _0x15ddx17);
  var _0x15ddx22 = lat / _0x15ddx17;
  var _0x15ddx23 = -1 * _0x15ddx19;
  var _0x15ddx24 = _0x15ddx18;
  var _0x15ddx25 = (Math.sin(_0x15ddx22) * Math.sin(_0x15ddx24)) + (Math.cos(_0x15ddx22) * Math.cos(_0x15ddx24) * Math.cos(_0x15ddx21 - _0x15ddx23));
  var _0x15ddx26 = Math.acos(_0x15ddx25);
  _0x15ddx25 = Math.sin(_0x15ddx22) - (Math.sin(_0x15ddx24) * _0x15ddx25);
  var _0x15ddx27 = (Math.cos(_0x15ddx24) * Math.sin(_0x15ddx26));
  if (_0x15ddx27 != 0) {
    _0x15ddx25 = _0x15ddx25 / _0x15ddx27;
  } else {
    _0x15ddx25 = 0;
  };
  var _0x15ddx28 = Math.acos(_0x15ddx25);
  var _0x15ddx29 = _0x15ddx21 - _0x15ddx23;
  if ((_0x15ddx21 > _0x15ddx23) && (_0x15ddx29 < _0x15ddx1e)) {
    _0x15ddx28 = _0x15ddx1f - _0x15ddx28;
  };
  var _0x15ddx2a = _0x15ddx26;
  var _0x15ddx2b = _0x15ddx28;
  var floatX, floatY, _0x15ddx2e;
  if (_0x15ddx2a < _0x15ddx20) {
    _0x15ddx2e = Math.tan(_0x15ddx2a);
    floatX = _0x15ddx2e * Math.sin(_0x15ddx2b);
    floatY = _0x15ddx2e * Math.cos(_0x15ddx2b);
  } else {
    floatX = 0;
    floatY = 0;
  };
  floatX = _0x15ddx1a + (floatX * _0x15ddx1d) / _0x15ddx1c;
  floatY = _0x15ddx1b - ((floatY * _0x15ddx1d) / _0x15ddx1c);
  var x = Math.round(floatX);
  var y = Math.round(floatY);
  out_xy = new Array(2);
  out_xy[0] = x;setLastError
  out_xy[1] = y;
  return out_xy;
};

var towns = townsString.split("\n").map(function(line) {
  var lon = parseFloat(line.substring(0, 6));
  var lat = parseFloat(line.substring(7, 13)); 
  var spacePos = line.indexOf(" ", 14);
  var population = parseFloat(line.substring(14, spacePos)); 
  var districtPos = line.indexOf(" (okr.", spacePos);
  var name = line.substring(spacePos+1, districtPos);
  var district = line.substring(districtPos+7, line.length-1);
  var xy = lonlat2xy(lon, lat)
  return { 
    name: name,
    population: population,
    district: district,
    lon: lon,
    lat: lat, 
    x: xy[0],
    y: xy[1],
  }   
});

const dx = 121;
const dy = 86;
const attempts = 10;

var populationLimit = 2500;
var attempt, sumError, message, currentTowns, lastError;
var playing = true;
var showDistrict = false;

function reset() {
  currentTowns = townsOfSize(populationLimit).shuffled().first(attempts);
  attempt = 1;
  sumError = 0;
  lastError = undefined;
  playing = true;
  update();
}

function update() {
  document.getElementById("attempt").innerHTML = attempt.toString() + " / " + attempts.toString();
  document.getElementById("sumError").innerHTML = sumError.toString() + " km";
  document.getElementById("message").innerHTML = getMessage();
  setLastError();
}

function getMessage() {
  if (!playing) return "Konec hry";
  var districtString = showDistrict ? "<br/>okres " +  currentTowns[attempt-1].district : "";
  return currentTowns[attempt-1].name + districtString;
}

function setLastError() {
  var elm =  document.getElementById("lastError");
   if (lastError) elm.innerHTML = "chyba: " + lastError.toString() + " km"
     else elm.innerHTML = "&nbsp;";
}

function placeCross(x, y) {
  var cross = document.getElementById('cross'); 
  cross.style.left = Math.round((x-dx) - 10);
  cross.style.top = Math.round((y-dy) - 10);
  cross.style.display = "block";
}

function hideCross() {
  var cross = document.getElementById('cross'); 
  cross.style.display = "none";
}

function placeCross2(x, y) {
  var cross = document.getElementById('cross2'); 
  cross.style.left = Math.round((x-dx) - 10);
  cross.style.top = Math.round((y-dy) - 10);
  cross.style.display = "block";
}

function hideCross2() {
  var cross = document.getElementById('cross'); 
  cross.style.display = "none";
}

function distance(x1, y1, x2, y2) {
  return Math.round(Math.sqrt(Math.abs(x2-x1)*Math.abs(x2-x1) + Math.abs(y2-y1)*Math.abs(y2-y1) ));
}

//121, 87

function mapClick(event){
  if (playing) {
    var town = currentTowns[attempt-1];
    placeCross(town.x, town.y);
    placeCross2(event.pageX+dx-1, event.pageY+dy-1);
    lastError = distance(town.x, town.y, event.pageX+dx-1, event.pageY+dy-1)
    sumError += lastError;
    attempt++;
    if (attempt > attempts) {
      attempt--;
      playing = false;
    }       
    update();
  }
}

function townsOfSize(aPopulation) {
  return towns.filter(function(town) {
    return town.population >= aPopulation
  });
}

function onPopulationSizeChange(elm) {
  populationLimit = parseInt(elm.value);
  reset();
}


function main() {
  reset();
}